import React from 'react';
import { css } from 'emotion';
import PropTypes from 'prop-types';
import sv from '@drawbotics/drylus-style-vars';

import Flex, { FlexItem, FlexDirections } from '../layout/Flex';
import Margin from '../layout/Margin';
import Title from './Title';
import Text from './Text';
import Paragraph from './Paragraph';
import { Sizes, Tiers } from '../base';


const styles = {
  root: css`
  `,
  image: css`
    width: 300px;

    @media ${sv.phoneLandscape} {
      max-width: 170px;
      width: 90%;
      margin: auto;
    }
  `,
  description: css`
    max-width: 500px;
    text-align: center;
  `,
};


const Illustration = () => {
  return (
    <svg width="100%" height="100%" viewBox="0 0 280 186">
      <defs>
        <path d="M14,104 C14,120.568542 15.3174006,134 33,134 C50.6825994,134 52,120.568542 52,104" id="path-1"></path>
      </defs>
      <g id="Tables" stroke="none" strokeWidth="1" fill="none" fillRule="evenodd">
        <g id="Empty-table" transform="translate(-434.000000, -319.000000)">
          <g id="Group-9" transform="translate(434.000000, 319.000000)">
            <g id="Background-Shape-2-Copy" transform="translate(130.000000, 103.000000) rotate(-180.000000) translate(-130.000000, -103.000000) translate(0.000000, 20.000000)" fill="#F6F7FA">
              <path d="M259.006746,54.0504723 C262.608635,117.29129 136.185837,187.787256 61,159 C-14.1858368,130.212744 -28.0528085,-27.970339 70.8697722,4.63276836 C169.792353,37.2358757 255.404857,-9.19034584 259.006746,54.0504723 Z" id="Background-Shape"></path>
            </g>
            <g id="Clock" transform="translate(80.000000, 0.000000)">
              <circle id="Clock-Frame" fill="#E8EFF6" cx="27.5" cy="27.5" r="27.5"></circle>
              <circle id="Time" fillOpacity="0.1" fill="#000000" cx="28.5" cy="5.5" r="1.5"></circle>
              <circle id="Time" fillOpacity="0.1" fill="#000000" cx="5.5" cy="28.5" r="1.5"></circle>
              <circle id="Time" fillOpacity="0.1" fill="#000000" cx="49.5" cy="28.5" r="1.5"></circle>
              <circle id="Time" fillOpacity="0.1" fill="#000000" cx="28.5" cy="49.5" r="1.5"></circle>
              <polygon id="Hand" fill="#AFB9C5" points="28 9 29 27 27 27"></polygon>
              <polygon id="Hand" fill="#AFB9C5" transform="translate(32.280436, 32.280436) rotate(135.000000) translate(-32.280436, -32.280436) " points="32.2804357 26.0540207 33.3181716 38.5068508 31.2426999 38.5068508"></polygon>
              <circle id="Time" fill="#C5CFD6" cx="28.5" cy="28.5" r="1.5"></circle>
            </g>
            <g id="Plant-Copy" transform="translate(39.000000, 30.000000)">
              <path d="M4.60356566,16.7426301 C13.2505433,31.4140551 23.3215235,45.6200281 29.3695044,61.6610769 C29.1257859,59.7703256 28.8673634,57.8815329 28.5781126,55.9954278 C27.0435202,45.9971962 25.1362716,36.0719212 23.1320779,26.1588137 C22.1114234,21.1115408 21.0319587,16.0825592 19.9248084,11.0540076 C19.3293485,8.35317084 18.7411895,5.65068847 18.13346,2.9524236 C17.9862546,2.29843539 17.8597751,1.15693735 17.6754811,0 C23.5531584,19.5069476 29.221221,39.0286042 33.3672077,59.0045058 C33.9111059,61.6261297 34.3742761,64.2430956 34.7536758,66.8555083 C34.8834637,66.2595536 35.0111218,65.663498 35.1508492,65.0691765 C36.8283924,57.9444949 39.3447613,50.8765198 42.3409392,44.2148041 C43.7732899,41.0290117 45.4185466,37.9129866 47.3556876,35.0094858 C48.5636525,33.1996055 51.4124095,31.0481697 52.5143729,29.1945885 C46.4877825,40.3737846 44.3116926,54.3612771 40.8319369,66.5150658 C39.982596,69.4809378 39.127979,72.4419951 38.2906051,75.4082685 C43.538224,64.7646983 51.6800191,56.019712 63,52.2300213 C49.2975995,61.3866384 41.0787655,77.4221641 35.5404001,93.8224844 C35.5221507,94.0169829 35.5004531,94.2114839 35.4816968,94.4062903 C37.1114305,91.2780761 39.1643254,88.4486159 41.9466477,86.4669027 C47.9015832,82.2245392 54.5075526,83.4604119 60.2840545,87.0994984 C55.7504728,84.1848649 47.5569692,86.8389188 43.7423841,89.8012856 C41.0115547,91.9218799 38.6777517,94.7668181 36.6510935,97.5423326 C36.1654821,98.2076435 35.5029641,98.9839086 34.8030528,99.8121796 C33.8217484,106.254483 32.2226062,112.652633 29.9585663,119 C30.3321921,117.17811 30.062053,114.264305 30.1656646,112.906318 C30.1769425,112.759293 30.1860906,112.612166 30.1972673,112.465551 C29.8531192,113.855287 29.5206251,115.229227 29.2004913,116.581012 C29.8368716,114.001496 30.1827404,111.308697 30.4527363,108.588065 C30.5222747,107.418848 30.5900891,106.249631 30.6617573,105.080515 C30.6390429,102.861634 30.5486807,100.633986 30.3958455,98.4027945 C29.8539194,96.234319 29.2471557,94.1889173 28.7467609,92.4879149 C26.9410726,86.3501615 24.2939924,80.4700375 21.0359064,74.98445 C18.0632589,69.9785654 14.5050012,65.4441935 10.3972159,61.3433749 C8.18274826,59.1333509 5.86520023,57.0284868 3.58029148,54.8943802 C2.75405544,54.1228771 1.27724139,52.225939 0,51.2371049 C9.30199051,56.4236937 18.876307,62.0348377 25.6621275,70.3915951 C24.8665678,67.3018291 24.0024763,64.255787 23.0884211,61.2707818 C18.4511932,46.1263032 12.5959864,30.4305142 4.60356566,16.7426301 Z" id="Fill-19" fill="#A4CACA"></path>
              <mask id="mask-2" fill="white">
                <use xlinkHref="#path-1"></use>
              </mask>
              <use id="Base" fill="#C5CFD6" xlinkHref="#path-1"></use>
              <path d="M32.4153893,100 C26.6198651,104.125786 24.6880237,108.509434 26.6198651,113.150943 C29.5176272,120.113208 37,122.588679 37,129.473585 C37,134.063522 33.659203,137.90566 26.9776091,141 L9.40496628,140.226415 L7,100 L32.4153893,100 Z" id="Path-9" fill="#879BA6" fillRule="nonzero" opacity="0.364676339" mask="url(#mask-2)"></path>
            </g>
            <g id="Group-6" transform="translate(118.000000, 55.000000)">
              <path d="M8.90649319,108.743435 C87.4009774,108.743435 131.63027,108.743435 141.594371,108.743435 C156.540523,108.743435 187.417956,102.706734 121.485914,104.431506 C55.5538721,106.156278 27.6024709,105.299842 9.26037914,106.657834 C-2.96768202,107.563163 -3.085644,108.258363 8.90649319,108.743435 Z" id="Path-3" fill="#D3DCE6" fillRule="nonzero" opacity="0.4398484"></path>
              <g id="Group-4">
                <g id="Group-3-Copy" transform="translate(0.000000, 40.362641)" fill="#91A6B2">
                  <path d="M49.7676217,2.1958295 C27.6899448,0.731943168 15.3701994,3.8191672e-14 12.8083855,3.8191672e-14 C8.96566476,3.8191672e-14 10.8791791,3.22091122 12.8083855,3.22091122 C14.737592,3.22091122 46.2636659,5.94927619 49.7676217,5.94927619 C52.1035923,5.94927619 52.1035923,4.6981273 49.7676217,2.1958295 Z" id="Path-4"></path>
                  <path d="M31.8992568,4.17907202 C14.731355,44.4655851 5.82466971,65.271126 5.17920096,66.5956949 C4.21099783,68.5825483 2.77767752,67.7159516 1.09756033,67.7159516 C-0.582556855,67.7159516 -0.131903953,66.668814 1.09756033,64.1082918 C1.91720319,62.4012769 8.61687953,42.0233924 21.1965894,2.9746381 L31.8992568,4.17907202 Z" id="Path-6"></path>
                  <path d="M44.6346083,4.61688386 C56.059586,43.0598414 62.118615,63.2184439 62.8116954,65.0926914 C63.8513159,67.9040626 61.3724989,66.9978499 60.261913,66.9978499 C59.1513271,66.9978499 57.9290949,64.8042772 55.4629342,58.6956736 C53.8188271,54.6232712 46.5547423,36.2995667 33.6706798,3.72456014 L44.6346083,4.61688386 Z" id="Path-7"></path>
                </g>
                <path d="M38.6906083,66.7816521 C21.040865,66.7816521 11.3137835,66.7816521 9.50936384,66.7816521 C6.80273438,66.7816521 7.01201451,68.7761171 7.01201451,72.7512392 C7.01201451,76.7263613 5.24827567,79.7702206 16.6583371,79.7702206 C28.0683984,79.7702206 94.7040067,79.7702206 97.6827455,79.7702206 C100.661484,79.7702206 101.709241,76.2880367 101.709241,71.5348444 C101.709241,66.7816521 104.578594,32.6950663 105.442383,21.0032333 C106.306172,9.31140034 106.923164,1.33780856 101.709241,0.411633403 C96.4953181,-0.514541754 65.0742215,0.411633403 60.7703404,0.411633403 C56.4664593,0.411633403 54.2916964,0.886004793 52.1527902,9.8268448 C50.7268527,15.7874048 46.2394587,34.7723406 38.6906083,66.7816521 Z" id="Path-8" fill="#D7DFE5"></path>
                <path d="M102.902997,1.50616301 C99.4656252,1.71619234 97.380508,2.71714154 96.6476451,4.50901064 C95.5483507,7.19681427 94.4192411,30.1340927 93.6996429,37.110647 C93.2199107,41.7616832 91.935904,51.7295004 89.8476228,67.0140986 C65.0619009,66.566357 51.9518339,66.566357 50.5174219,67.0140986 C48.3658038,67.685711 44.4116853,72.3648815 45.2804464,75.4886916 C46.1492076,78.6125016 48.4230874,79.7702206 51.5195996,79.7702206 C54.6161118,79.7702206 94.3451116,79.7702206 96.6476451,79.7702206 C98.9501786,79.7702206 101.94293,75.6376379 101.94293,72.3016922 C101.94293,68.9657465 106.019261,12.6252298 106.019261,8.56712021 C106.019261,5.86171383 104.980506,3.50806143 102.902997,1.50616301 Z" id="Path-10" fill="#C5CFD6"></path>
                <g id="Group-3" transform="translate(44.028751, 41.287011)" fill="#AEBCC4">
                  <path d="M49.7676217,2.1958295 C27.6899448,0.731943168 15.3701994,3.8191672e-14 12.8083855,3.8191672e-14 C8.96566476,3.8191672e-14 10.8791791,3.22091122 12.8083855,3.22091122 C14.737592,3.22091122 46.2636659,5.94927619 49.7676217,5.94927619 C52.1035923,5.94927619 52.1035923,4.6981273 49.7676217,2.1958295 Z" id="Path-4"></path>
                  <path d="M31.8992568,4.17907202 C14.731355,44.4655851 5.82466971,65.271126 5.17920096,66.5956949 C4.21099783,68.5825483 2.77767752,67.7159516 1.09756033,67.7159516 C-0.582556855,67.7159516 -0.131903953,66.668814 1.09756033,64.1082918 C1.91720319,62.4012769 8.61687953,42.0233924 21.1965894,2.9746381 L31.8992568,4.17907202 Z" id="Path-6"></path>
                  <path d="M44.6346083,4.61688386 C56.059586,43.0598414 62.118615,63.2184439 62.8116954,65.0926914 C63.8513159,67.9040626 61.3724989,66.9978499 60.261913,66.9978499 C59.1513271,66.9978499 57.9290949,64.8042772 55.4629342,58.6956736 C53.8188271,54.6232712 46.5547423,36.2995667 33.6706798,3.72456014 L44.6346083,4.61688386 Z" id="Path-7"></path>
                </g>
              </g>
            </g>
          </g>
        </g>
      </g>
    </svg>
  );
};


const EmptyState = ({
  description,
  title,
  actions,
  style,
}) => {
  return (
    <div style={style} className={styles.root}>
      <Flex direction={FlexDirections.VERTICAL}>
        <FlexItem>
          <div className={styles.image}>
            <Illustration />
          </div>
        </FlexItem>
        <FlexItem>
          <Title size={3}>{title}</Title>
        </FlexItem>
        {do {
          if (description) {
            <FlexItem>
              <div className={styles.description}>
                <Paragraph>
                  <Text tier={Tiers.SECONDARY}>{description}</Text>
                </Paragraph>
              </div>
            </FlexItem>
          }
        }}
        {do {
          if (actions) {
            <FlexItem>
              <Margin size={{ top: Sizes.DEFAULT }}>
                <Flex>
                  {actions.map((action, i) => (
                    <FlexItem key={i}>
                      <Margin size={{ left: i === 0 ? null : Sizes.SMALL }}>
                        {action}
                      </Margin>
                    </FlexItem>
                  ))}
                </Flex>
              </Margin>
            </FlexItem>
          }
        }}
      </Flex>
    </div>
  );
};


EmptyState.propTypes = {
  /** Main title to explain the situation */
  title: PropTypes.string,

  /** Text shown to explain the situation */
  description: PropTypes.string,

  /** Array of components, usually Buttons */
  actions: PropTypes.arrayOf(PropTypes.node),

  /** Used for style overrides */
  style: PropTypes.object,
};


export default EmptyState;
