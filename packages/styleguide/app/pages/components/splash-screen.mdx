import { useEffect, useState } from 'react';
import { SplashScreenProvider, useSplashScreen } from '@drawbotics/react-drylus';

import { PropsTable } from '~/components/Playground';


# Splash Screen Provider
Set this provider at the root of the project if you want to show/hide a splash screen at will. See [`Alerts`](/components/alerts) for usage, since it's essentially the same.

Shown when a whole page should be loading and the user shouldn't perform any action. For example when the website is loading, or when an order is being placed.
```jsx
import { useSplashScreen } from '@drawbotics/react-drylus';
```

In your component, use the `useSplashScreen` hook like so:
```jsx
const { showSplashScreen, hideSplashScreen, updateSplashScreen } = useSplashScreen();
```

The functions available for interacting with the splash screen are these:
```
showSplashScreen(options)   // to trigger the visibility of the splash screen
hideHideSplashScreen()          // to hide the splash screen (resets options)
updateSplashScreen(options) // to update the options without changing the visibility
```
You may pass a `options` object to the `show` and `update` calls to display something during the loading step. `options` accepts the following fields:
```
text  // displayed below the loading animation
```


### Demo
Press `s` on your keyboard to start the splash screen. Press it again to hide it.

export const Demo = () => {
  const [ visible, toggle ] = useState(false);
  const { showSplashScreen, hideSplashScreen } = useSplashScreen();
  useEffect(() => {
    const handlePressKey = (e) => {
      if (e.code === 'KeyS') {
        visible ? hideSplashScreen() : showSplashScreen({ text: 'Loading...' });
        toggle(! visible);
      }
    };
    window.addEventListener('keydown', handlePressKey, false);
    return () => {
      window.removeEventListener('keydown', handlePressKey);
    };
  });
  return '';
};

<SplashScreenProvider>
  <Demo />
</SplashScreenProvider>
